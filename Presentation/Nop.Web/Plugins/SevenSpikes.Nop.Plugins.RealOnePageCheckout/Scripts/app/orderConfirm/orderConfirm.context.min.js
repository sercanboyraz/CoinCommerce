"use strict";function orderConfirmContext(n,t,i,r){function o(){return u}function s(){i.toggleSubmitButtonText();n.$broadcast("confirmOrderContextChanging");t.confirmOrder().then(function(t){if(u.errors=t.data.errors||[],t.data.success&&t.data.redirectUrl){i.redirectTo(t.data.redirectUrl);$.event.trigger("orderConfirmedRealOnePageCheckout");return}i.toggleSubmitButtonText();f.setState(u);n.$broadcast("confirmOrderContextChanged")},function(t){return u=f.getLastState(),i.toggleSubmitButtonText(),n.$broadcast("confirmOrderContextChanged"),$q.reject(t)})}function h(n){n.submitted&&s()}var e={get:o,set:h},u={},f=r.instance();return e}angular.module("realOnePageCheckout.orderConfirm").factory("orderConfirmContext",orderConfirmContext);orderConfirmContext.$inject=["$rootScope","orderConfirmService","objectUtility","stateHolder"];