"use strict";function orderTotalContext(n,t,i,r,u,f){function c(n){e=n.orderTotals;o.setState(e)}function s(){return r.getOrderTotal().then(function(t){e=t.data;o.setState(e);n.$broadcast("orderTotalContextChanged",{hasProductsRequiringShipping:e.requiresShipping})},function(i){return e=f.getLastState(),n.$broadcast("orderTotalContextChanged"),t.reject(i)})}function l(){return e}function a(t){t.giftCardId&&n.$broadcast("removeGiftCard",{giftCardId:t.giftCardId})}var h={init:c,load:s,get:l,set:a},e,o=f.instance();return n.$on("resetOrderTotalData",function(){e=undefined;s()}),h}angular.module("realOnePageCheckout.orderTotal").factory("orderTotalContext",orderTotalContext);orderTotalContext.$inject=["$rootScope","$q","api","orderTotalService","objectUtility","stateHolder"];