"use strict";function ShippingMethodsController(i,r,a,t){var p=this;p.shippingData={},p.configData={};var s=!(p.configData.isVisible=!0),g=!1;i.$on("checkoutDataLoaded",function(i,n){a.init(n.shippingMethods);var o,t=a.get();if(angular.copy(t,p.shippingData),angular.isDefined(n.configuration.hasProductsRequiringShipping)&&(s=n.configuration.hasProductsRequiringShipping),angular.isDefined(n.configuration.pickUpInStoreModel)){var e=JSON.parse(n.configuration.pickUpInStoreModel);g=e.pickUpInStore}p.configData.isVisible=s&&!g,o=!0,r.$watch("vm.shippingData.selectedShippingMethod",function(i,n){i&&n&&!o?a.set(i):o=!1},!0)}),i.$on("togglePanel",function(i,n){angular.isDefined(n.hasProductsRequiringShipping)&&(s=n.hasProductsRequiringShipping),angular.isDefined(n.pickUpInStore)&&(g=n.pickUpInStore),p.configData.isVisible=!g&&s}),i.$on("refresh",function(i,n){if(null!=n.controller&&"ShippingMethodsController"!=n.controller)return!1;var o=a.get();angular.copy(o,p.shippingData),t.hideOverlay(".shipping-methods-loader")}),i.$on("setShippingMethodsOverlay",function(){t.showOverlay(".shipping-methods-loader")}),i.$on("resetShippingMethodsData",function(i,n){!g&&s&&a.resetShippingMethodsData(n)}),p.stringFormat=t.stringFormat,p.renderShippingDescription=t.trustAsHtml}angular.module("realOnePageCheckout.shippingMethods").controller("ShippingMethodsController",ShippingMethodsController),ShippingMethodsController.$inject=["$rootScope","$scope","shippingMethodsContext","objectUtility"];