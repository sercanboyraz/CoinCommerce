/*

Use this controller to hook into the AngularJS One Page Checkout App.
You can broadcast app events or listen to existing ones.

This way you can hook into the application and add your custom logic.

Available reset data events:

If you need to reset a certain panel's data, you can use one of the events below .
( Resetting a panel data means that the current panel data will be deleted and a request to the server will be made for the new data ).
- resetShippingMethodsData
- resetPaymentMethodsData
- resetOrderTotalData
- resetOrderSummaryData
- resetCheckoutAttributesData

For example, when you need to reset Order Totals data, you should $broadcast the "resetOrderTotalData".

Use case scenario:

Having a custom logic, which requires reloading the order total panel. When the logic is executed you should trigger an event, called for example, "MyEvent":

$.event.trigger({ type: "MyEvent" });

Then using the code bellow you will listen for that event and when the event happens the order total panel will be reloaded:

$(document).on('MyEvent', function () {
    setTimeout(function () {
        $scope.$apply(function () {

            objectUtility.showOverlay('.order-total-content-loader');

            $rootScope.$broadcast('resetOrderTotalData');
        });
    });
});

Note: The above code MUST be place inside the ExternalController function!

*/

'use strict';

angular.module('realOnePageCheckout.external')
    .controller("ExternalController", ExternalController);

ExternalController.$inject = ["$rootScope", "$scope", "objectUtility"];

function ExternalController($rootScope, $scope, objectUtility) {
    var vm = this;

    //$(document).on('MyEvent', function () {
    //    setTimeout(function () {
    //        $scope.$apply(function () {
    //            // Put your custom logic here.
    //        });
    //    });
    //});
};